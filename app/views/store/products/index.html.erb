<h1 class="mb-4">Products</h1>

<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
  <% @products.each do |product| %>
    <div style="border: 1px solid #ddd; padding: 12px; border-radius: 8px;">

      <% if product.images.attached? %>
        <%= image_tag product.images.first, style: "width: 100%; height: 200px; object-fit: cover; border-radius: 5px;" %>
      <% else %>
        <div style="width: 100%; height: 200px; background: #f1f1f1; display:flex; align-items:center; justify-content:center;">
          No Image
        </div>
      <% end %>

      <h3 style="margin-top: 10px;"><%= product.name %></h3>
      <p><strong>$<%= product.price %></strong></p>

      <p style="font-size: 12px; color: #555;">
        <%= product.categories.map(&:name).join(", ") %>
      </p>

      <%= link_to "View Details", product_path(product),
            style: "margin-top:10px; display:inline-block; background:#007bff; padding:6px 10px; color:white; border-radius:4px; text-decoration:none;" %>
    </div>
  <% end %>
</div>

<br>

<%= paginate @products %>
